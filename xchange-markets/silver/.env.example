# ═══════════════════════════════════════════════════════════════
# XCHANGE SILVER MARKETPLACE - ENVIRONMENT VARIABLES
# ═══════════════════════════════════════════════════════════════
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control!
# ═══════════════════════════════════════════════════════════════

# ───────────────────────────────────────────────────────────────
# DATABASE
# ───────────────────────────────────────────────────────────────
DATABASE_URL="postgresql://username:password@localhost:5432/xchange_silver"

# For production (e.g., Supabase, Railway, Neon)
# DATABASE_URL="postgresql://user:pass@host:5432/dbname?schema=public&sslmode=require"

# ───────────────────────────────────────────────────────────────
# JWT AUTHENTICATION
# ───────────────────────────────────────────────────────────────
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="your_super_secret_jwt_key_minimum_32_characters_long_here"
JWT_EXPIRY="7d"

# ───────────────────────────────────────────────────────────────
# METALS API - Silver Prices
# ───────────────────────────────────────────────────────────────
# Get from: https://metals-api.com
# Free plan: 50 requests/month
# Professional: $49/month - 10,000 requests
METALS_API_KEY="your_metals_api_key_here"
METALS_API_BASE_URL="https://metals-api.com/api"

# ───────────────────────────────────────────────────────────────
# PAYMOB - Payment Gateway
# ───────────────────────────────────────────────────────────────
# Get from: https://accept.paymob.com
PAYMOB_API_KEY="your_paymob_api_key"
PAYMOB_INTEGRATION_ID="123456"
PAYMOB_IFRAME_ID="654321"
PAYMOB_HMAC_SECRET="your_paymob_hmac_secret"
PAYMOB_PUBLIC_KEY="your_paymob_public_key"

# Fawry Integration ID (if different)
FAWRY_INTEGRATION_ID="789012"

# ───────────────────────────────────────────────────────────────
# BOSTA - Shipping & Logistics
# ───────────────────────────────────────────────────────────────
# Get from: https://business.bosta.co
BOSTA_API_KEY="your_bosta_api_key"
BOSTA_BASE_URL="https://app.bosta.co/api/v2"

# ───────────────────────────────────────────────────────────────
# SMS PROVIDER - Choose one
# ───────────────────────────────────────────────────────────────

# Option 1: Twilio (International)
TWILIO_ACCOUNT_SID="ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
TWILIO_AUTH_TOKEN="your_twilio_auth_token"
TWILIO_PHONE_NUMBER="+1234567890"

# Option 2: Vodafone Egypt SMS (Local - cheaper)
# VODAFONE_SMS_API_KEY="your_vodafone_api_key"
# VODAFONE_SMS_SENDER="Xchange"

# ───────────────────────────────────────────────────────────────
# GOOGLE MAPS API
# ───────────────────────────────────────────────────────────────
# Get from: https://console.cloud.google.com
# Enable: Geocoding API, Places API, Distance Matrix API
GOOGLE_MAPS_API_KEY="your_google_maps_api_key"

# ───────────────────────────────────────────────────────────────
# CLOUDINARY - Image Storage & CDN
# ───────────────────────────────────────────────────────────────
# Get from: https://cloudinary.com
# Free: 25 GB storage, 25 GB bandwidth/month
CLOUDINARY_CLOUD_NAME="your_cloud_name"
CLOUDINARY_API_KEY="your_cloudinary_api_key"
CLOUDINARY_API_SECRET="your_cloudinary_api_secret"
CLOUDINARY_UPLOAD_PRESET="xchange_silver"

# ───────────────────────────────────────────────────────────────
# SENDGRID - Email Service
# ───────────────────────────────────────────────────────────────
# Get from: https://sendgrid.com
# Free: 100 emails/day
SENDGRID_API_KEY="SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"
SENDGRID_FROM_EMAIL="noreply@xchange.eg"
SENDGRID_FROM_NAME="Xchange Egypt"

# ───────────────────────────────────────────────────────────────
# APPLICATION CONFIG
# ───────────────────────────────────────────────────────────────
NODE_ENV="development"
# NODE_ENV="production"

PORT=3000
FRONTEND_URL="http://localhost:3001"

# For production
# FRONTEND_URL="https://xchange.eg"
# BACKEND_URL="https://api.xchange.eg"

# ───────────────────────────────────────────────────────────────
# REDIS (Optional - for caching)
# ───────────────────────────────────────────────────────────────
# REDIS_URL="redis://localhost:6379"
# REDIS_PASSWORD=""

# ───────────────────────────────────────────────────────────────
# SENTRY (Optional - for error tracking)
# ───────────────────────────────────────────────────────────────
# Get from: https://sentry.io
# SENTRY_DSN="https://xxxxx@xxxxx.ingest.sentry.io/xxxxx"

# ───────────────────────────────────────────────────────────────
# ANALYTICS (Optional)
# ───────────────────────────────────────────────────────────────
# GOOGLE_ANALYTICS_ID="G-XXXXXXXXXX"
# FACEBOOK_PIXEL_ID="xxxxxxxxxxxxxxxxx"

# ───────────────────────────────────────────────────────────────
# FEATURE FLAGS
# ───────────────────────────────────────────────────────────────
ENABLE_TRADE_IN="false"
ENABLE_SAVINGS_PROGRAM="false"
ENABLE_PROFESSIONAL_VALUATION="true"
ENABLE_SMS_NOTIFICATIONS="true"
ENABLE_EMAIL_NOTIFICATIONS="true"

# ───────────────────────────────────────────────────────────────
# SECURITY & RATE LIMITING
# ───────────────────────────────────────────────────────────────
RATE_LIMIT_WINDOW_MS="3600000"  # 1 hour in ms
RATE_LIMIT_MAX_REQUESTS="100"   # requests per window

# Escrow hold period (in days)
ESCROW_HOLD_DAYS="7"

# Platform fee percentage (3-5%)
PLATFORM_FEE_PERCENTAGE="0.05"  # 5%

# Trade-in credit percentage (80-90%)
TRADE_IN_CREDIT_PERCENTAGE="0.80"  # 80%

# ───────────────────────────────────────────────────────────────
# TESTING (for test environment)
# ───────────────────────────────────────────────────────────────
# DATABASE_URL_TEST="postgresql://username:password@localhost:5432/xchange_silver_test"
# SKIP_SMS_IN_TEST="true"
# SKIP_EMAIL_IN_TEST="true"

# ───────────────────────────────────────────────────────────────
# NOTES
# ───────────────────────────────────────────────────────────────
# 1. Never commit this file with real values to Git
# 2. Add .env to .gitignore
# 3. For team members, share values securely (1Password, LastPass, etc)
# 4. For production, use environment variables in your hosting platform
# 5. Rotate secrets regularly, especially API keys
