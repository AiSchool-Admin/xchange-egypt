# ===========================================
# Xchange Tender Marketplace - Environment Variables
# ===========================================

# ===========================================
# Application Settings
# ===========================================
NODE_ENV=development
PORT=3000
API_PORT=4000
APP_NAME="Xchange Tender Marketplace"
APP_URL=http://localhost:3000
API_URL=http://localhost:4000

# ===========================================
# Database Configuration (PostgreSQL)
# ===========================================
DATABASE_URL="postgresql://username:password@localhost:5432/xchange_tenders?schema=public"
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ===========================================
# Redis Configuration (for caching & sessions)
# ===========================================
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD=
REDIS_TTL=3600

# ===========================================
# Authentication & Security
# ===========================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-refresh-token-secret-change-in-production
JWT_REFRESH_EXPIRES_IN=30d

# Session Configuration
SESSION_SECRET=your-session-secret-change-in-production
SESSION_MAX_AGE=86400000

# Password Hashing
BCRYPT_ROUNDS=12

# ===========================================
# File Storage (AWS S3)
# ===========================================
AWS_REGION=me-south-1
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET=xchange-tenders-files
AWS_S3_ENDPOINT=
MAX_FILE_SIZE=52428800

# ===========================================
# Payment Gateways
# ===========================================

# Paymob Configuration
PAYMOB_API_KEY=your-paymob-api-key
PAYMOB_INTEGRATION_ID=your-integration-id
PAYMOB_IFRAME_ID=your-iframe-id
PAYMOB_HMAC_SECRET=your-hmac-secret

# Fawry Configuration
FAWRY_MERCHANT_CODE=your-merchant-code
FAWRY_SECURITY_KEY=your-security-key
FAWRY_API_URL=https://www.atfawry.com/ECommerceWeb/Fawry/payments/charge

# InstaPay Configuration
INSTAPAY_API_KEY=your-instapay-api-key
INSTAPAY_MERCHANT_ID=your-merchant-id

# ===========================================
# SMS Gateway (Vodafone/Orange/Etisalat)
# ===========================================
SMS_PROVIDER=vodafone
SMS_API_URL=https://sms-api.example.com
SMS_API_KEY=your-sms-api-key
SMS_SENDER_ID=XCHANGE

# ===========================================
# Email Configuration
# ===========================================
MAIL_HOST=smtp.example.com
MAIL_PORT=587
MAIL_USERNAME=noreply@xchange.eg
MAIL_PASSWORD=your-email-password
MAIL_FROM_NAME="Xchange Tender Marketplace"
MAIL_FROM_ADDRESS=noreply@xchange.eg
MAIL_ENCRYPTION=tls

# ===========================================
# Push Notifications (Firebase)
# ===========================================
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@your-project.iam.gserviceaccount.com

# ===========================================
# Real-time (WebSocket)
# ===========================================
WEBSOCKET_PORT=4001
WEBSOCKET_CORS_ORIGIN=http://localhost:3000
WEBSOCKET_PING_INTERVAL=25000
WEBSOCKET_PING_TIMEOUT=60000

# ===========================================
# KYC Verification Services
# ===========================================

# National ID Verification
NID_VERIFICATION_API_URL=https://api.example.com/nid
NID_VERIFICATION_API_KEY=your-api-key

# Commercial Register Verification
CR_VERIFICATION_API_URL=https://api.example.com/cr
CR_VERIFICATION_API_KEY=your-api-key

# ===========================================
# Google Maps & Location Services
# ===========================================
GOOGLE_MAPS_API_KEY=your-google-maps-api-key
GOOGLE_GEOCODING_API_KEY=your-geocoding-api-key

# ===========================================
# Digital Signature Service
# ===========================================
DIGITAL_SIGNATURE_PROVIDER=egypt-trust
DIGITAL_SIGNATURE_API_URL=https://api.example.com/sign
DIGITAL_SIGNATURE_API_KEY=your-api-key

# ===========================================
# Analytics & Monitoring
# ===========================================
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project
LOG_LEVEL=info
LOG_FORMAT=json

# ===========================================
# Rate Limiting
# ===========================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# ===========================================
# Auction Configuration
# ===========================================
AUCTION_EXTENSION_MINUTES=5
AUCTION_EXTENSION_THRESHOLD_MINUTES=2
AUCTION_MIN_DECREMENT_PERCENTAGE=1
AUCTION_MAX_DURATION_HOURS=4

# ===========================================
# Trust Score Configuration
# ===========================================
TRUST_SCORE_DELIVERY_WEIGHT=0.35
TRUST_SCORE_QUALITY_WEIGHT=0.25
TRUST_SCORE_COMMUNICATION_WEIGHT=0.15
TRUST_SCORE_TENURE_WEIGHT=0.10
TRUST_SCORE_VERIFICATION_WEIGHT=0.15

# ===========================================
# Escrow Configuration
# ===========================================
ESCROW_HOLD_DAYS=14
ESCROW_RELEASE_APPROVAL_REQUIRED=true
PLATFORM_FEE_PERCENTAGE=2.5

# ===========================================
# Cross-Market Integration (Xchange Platform)
# ===========================================
XCHANGE_GOLD_API_URL=http://gold-api.xchange.eg
XCHANGE_AUCTIONS_API_URL=http://auctions-api.xchange.eg
XCHANGE_PLATFORM_API_KEY=your-platform-api-key

# ===========================================
# Feature Flags
# ===========================================
FEATURE_REVERSE_AUCTION=true
FEATURE_ESCROW_PAYMENTS=true
FEATURE_SMART_MATCHING=true
FEATURE_FRAUD_DETECTION=true
FEATURE_DIGITAL_SIGNATURES=true
FEATURE_VIDEO_CALLS=false

# ===========================================
# Cron Jobs
# ===========================================
CRON_TENDER_DEADLINE_CHECK=0 * * * *
CRON_AUCTION_STATUS_UPDATE=*/5 * * * *
CRON_PAYMENT_REMINDER=0 9 * * *
CRON_TRUST_SCORE_UPDATE=0 0 * * *
