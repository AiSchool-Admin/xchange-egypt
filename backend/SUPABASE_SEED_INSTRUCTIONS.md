# ๐ ุฏููู ุชุดุบูู Seed ุนูู Supabase SQL Editor

## โจ ุฎุทูุงุช ุณุฑูุนุฉ (ุฏูููุชูู ููุท!)

### 1๏ธโฃ **ุงูุชุญ Supabase Dashboard**
1. ุงุฐูุจ ุฅูู [Supabase Dashboard](https://app.supabase.com)
2. ุงุฎุชุฑ ูุดุฑูุนู
3. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุถุบุท ุนูู **SQL Editor**

### 2๏ธโฃ **ุงูุณุฎ ูุงูุตู ุงูู SQL Script**
1. ุงุถุบุท **+ New Query**
2. ุงูุณุฎ ูุญุชูู ุงูููู: `backend/prisma/seeds/real-estate-supabase-quick.sql`
3. ุงูุตู ูู ูุงูุฐุฉ SQL Editor

### 3๏ธโฃ **ุดุบูู ุงูู Script**
1. ุงุถุบุท ุฒุฑ **Run** (ุฃู Ctrl/Cmd + Enter)
2. ุงูุชุธุฑ 2-3 ุซูุงูู

### 4๏ธโฃ **ุชุฃูุฏ ูู ุงููุฌุงุญ โ**

ุณุชุธูุฑ ุฑุณุงุฆู ูุซู:
```
NOTICE:  Created test user: [UUID]
NOTICE:  ========================================
NOTICE:  โ Real Estate Seed Completed!
NOTICE:  ========================================
NOTICE:  Properties Created: 8
NOTICE:  Total Value: 42150000 EGP
NOTICE:  Average Price: 5268750 EGP
```

ูุณุชุธูุฑ ุฌุฏูู ุจุงูุนูุงุฑุงุช ุงููุถุงูุฉ:
```
ุงูุนูุงุฑ                          | ุงูููุน      | ุงููุญุงูุธุฉ | ุงููุณุงุญุฉ | ุงูุณุนุฑ
--------------------------------|-----------|----------|---------|----------
ุดูุฉ ูุงุฎุฑุฉ ูู ุงูุชุฌูุน ุงูุฎุงูุณ      | APARTMENT | Cairo    | 185     | 4500000
ูููุง ูู ุงูุดูุฎ ุฒุงูุฏ              | VILLA     | Giza     | 450     | 12000000
ุจูุชูุงูุณ ูู ุงููุนุงุฏู              | PENTHOUSE | Cairo    | 320     | 8500000
...
```

---

## ๐ฆ ุงูุจูุงูุงุช ุงููุถุงูุฉ

### **8 ุนูุงุฑุงุช ูุชููุนุฉ:**

| # | ุงูุนูุงุฑ | ุงูููุน | ุงููุญุงูุธุฉ | ุงููุณุงุญุฉ | ุงูุณุนุฑ | ุงููุดุงูุฏุงุช |
|---|--------|-------|----------|---------|--------|-----------|
| 1 | ุดูุฉ ูุงุฎุฑุฉ ูู ุงูุชุฌูุน ุงูุฎุงูุณ | Apartment | Cairo | 185ูยฒ | 4.5M | 120 |
| 2 | ูููุง ูู ุงูุดูุฎ ุฒุงูุฏ | Villa | Giza | 450ูยฒ | 12M | 200 |
| 3 | ุจูุชูุงูุณ ูู ุงููุนุงุฏู | Penthouse | Cairo | 320ูยฒ | 8.5M | 180 |
| 4 | ุณุชูุฏูู ูู 6 ุฃูุชูุจุฑ | Studio | Giza | 55ูยฒ | 950K | 90 |
| 5 | ุฏูุจููุณ ูู ูุตุฑ ุงูุฌุฏูุฏุฉ | Duplex | Cairo | 280ูยฒ | 5.2M | 145 |
| 6 | ุดุงููู ูู ุงูุณุงุญู ุงูุดูุงูู | Chalet | Matrouh | 120ูยฒ | 6.5M | 250 |
| 7 | ุชุงูู ูุงูุณ ูู ุงูุฑุญุงุจ | Townhouse | Cairo | 350ูยฒ | 7.2M | 165 |
| 8 | ููุชุจ ูู ูุณุท ุงูุจูุฏ | Office | Cairo | 95ูยฒ | 2.8M | 80 |

**ุฅุฌูุงูู ุงููููุฉ**: 42.15 ููููู ุฌููู

---

## โ ุงูุชุญูู ูู ุงูุจูุงูุงุช

### **ุงูุทุฑููุฉ 1: ุนุจุฑ SQL**
```sql
SELECT COUNT(*) FROM properties
WHERE owner_id = (SELECT id FROM users WHERE email = 'admin@xchange.eg');
```
**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: 8

### **ุงูุทุฑููุฉ 2: ุนุจุฑ Supabase Table Editor**
1. ุงุถุบุท **Table Editor** ูู ุงููุงุฆูุฉ
2. ุงุฎุชุฑ ุฌุฏูู **properties**
3. ูุฌุจ ุฃู ุชุฑู 8 ุนูุงุฑุงุช ุฌุฏูุฏุฉ

### **ุงูุทุฑููุฉ 3: ุนุจุฑ ุงููููุน**
1. ุงูุชุญ: `/real-estate`
2. ูุฌุจ ุฃู ุชุฑู 8 ุนูุงุฑุงุช

---

## ๐ฏ ุงุฎุชุจุงุฑ ุงูููุฒุงุช

### **1. ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ** `/real-estate`
- โ ุนุฑุถ 8 ุนูุงุฑุงุช
- โ ููุชุฑ ุญุณุจ ุงูููุน (Apartment, Villa, etc.)
- โ ููุชุฑ ุญุณุจ ุงููุญุงูุธุฉ (Cairo, Giza, Matrouh)
- โ ููุชุฑ ุญุณุจ ุงูุณุนุฑ (950K - 12M)
- โ ุชุฑุชูุจ (ุงูุณุนุฑุ ุงููุณุงุญุฉ)

**ุฌุฑูุจ:**
```
ููุชุฑ: ุงูููุน = Apartment
ุงููุชูุฌุฉ: ุดูุฉ ุงูุชุฌูุน ุงูุฎุงูุณ (4.5M) + ุฏูุจููุณ (5.2M)
```

### **2. ุงูุชูููู ุงูุขูู** `/real-estate/valuation`
**ุงูุณููุงุฑูู:** ูููู ุดูุฉ 180ู ูู ุงูุชุฌูุน ุงูุฎุงูุณุ ุชุดุทูุจ ุณูุจุฑ ูููุณ

**ุงูุฅุฏุฎุงู:**
- ุงูููุน: Apartment
- ุงููุณุงุญุฉ: 180ูยฒ
- ุงููููุน: Cairo > New Cairo > Fifth Settlement
- ุงูุชุดุทูุจ: Super Lux
- ุบุฑู ุงูููู: 3

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
- ุงูุชูููู: ~4.3M - 4.7M (ุจูุงุกู ุนูู ุงูุดูุฉ ุงูููุฌูุฏุฉ)
- ุงูุนูุงุฑุงุช ุงููุดุงุจูุฉ: ุดูุฉ Mivida (4.5M)
- ุงูุณุนุฑ/ูุชุฑ: ~24,000 ุฌููู

### **3. ุงูุชูุตูุงุช ุงูุฐููุฉ** `/real-estate/recommendations`
**ุงุฎุชุจุฑ:**
1. ุงูุชุญ ุงูุตูุญุฉ (ูุณุชุฎุฏู ุฌุฏูุฏ)
2. **ุงููุชูุฌุฉ**: ุชูุตูุงุช Trending:
   - ุงูุดุงููู (250 ูุดุงูุฏุฉ) - ุงูุฃุนูู
   - ุงููููุง (200 ูุดุงูุฏุฉ)
   - ุงูุจูุชูุงูุณ (180 ูุดุงูุฏุฉ)

3. ุดุงูุฏ ุจุนุถ ุงูุนูุงุฑุงุช (ูุซูุงู ุงูุดูุฉ ูุงูุฏูุจููุณ)
4. ุงุฑุฌุน ููุชูุตูุงุช
5. **ุงููุชูุฌุฉ**: ุชูุตูุงุช ูุฎุตุตุฉ ุจูุงุกู ุนูู ูุดุงูุฏุงุชู

### **4. ุงูููุงูุถุฉ ุงููุชูุฏูุฉ** `/real-estate/barter`
**ุณููุงุฑูู ุชุฌุฑูุจู:**
- ุนูุฏู: ุณุชูุฏูู (950K)
- ุฃุฑูุฏ: ุดูุฉ ูู ุงูุชุฌูุน (4.5M)
- ุงููุฑู: 3.55M ููุฏ

**ุงุฎุชุจุฑ:**
1. ุงูุชุญ ุตูุญุฉ ุงูููุงูุถุฉ
2. ุงุจุญุซ ุนู ูุทุงุจูุงุช
3. **ุงููุชูุฌุฉ**: ุณูุธูุฑ ุณูุงุณู ูุญุชููุฉ ูุน ุญุณุงุจ ุงูุชุฏูู ุงูููุฏู

---

## ๐ ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุจูุงูุงุช

### **ุฎูุงุฑ 1: ุชุดุบูู Script ูุฑุฉ ุฃุฎุฑู**
- โ๏ธ ุณูุถูู 8 ุนูุงุฑุงุช ุฅุถุงููุฉ
- โ ุขูู - ูู ูุญุฐู ุงูุจูุงูุงุช ุงูููุฌูุฏุฉ

### **ุฎูุงุฑ 2: ุงุณุชุฎุฏุงู Seed ุงููุงูู**
```sql
-- ุงูุณุฎ ูุญุชูู: prisma/seeds/properties_comprehensive_seed.sql
-- ุณูุถูู 50+ ุนูุงุฑ ูุชููุน
```

### **ุฎูุงุฑ 3: ุฅุถุงูุฉ ุนูุงุฑ ูุฏููุงู**
```sql
INSERT INTO properties (...)
SELECT ... FROM users WHERE email = 'admin@xchange.eg';
```

---

## ๐๏ธ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### **ุงููุดููุฉ: User not found**
**ุงูุญู:** ุงูู Script ููุดุฆ ูุณุชุฎุฏู ุชููุงุฆูุงู. ุชุญูู:
```sql
SELECT * FROM users WHERE email = 'admin@xchange.eg';
```

### **ุงููุดููุฉ: Properties already exist**
**ุงูุญู:** ูุง ูุดููุฉ! ุงูู Script ูุถูู ุนูุงุฑุงุช ุฌุฏูุฏุฉ ุฏูู ุญุฐู ุงููุฏููุฉ.

ููุญุฐู ูุฅุนุงุฏุฉ ุงูุจุฏุก:
```sql
DELETE FROM properties
WHERE owner_id = (SELECT id FROM users WHERE email = 'admin@xchange.eg');
```

### **ุงููุดููุฉ: Invalid enum values**
**ุงูุญู:** ุชุฃูุฏ ูู Prisma schema ูุญุฏุซ:
```bash
cd backend && npx prisma db push
```

---

## ๐ ุงุณุชุนูุงูุงุช ูููุฏุฉ

### **ุนุฑุถ ุฌููุน ุงูุนูุงุฑุงุช:**
```sql
SELECT
  title_ar,
  property_type,
  governorate,
  area_sqm,
  sale_price,
  views_count
FROM properties
ORDER BY created_at DESC;
```

### **ุฅุญุตุงุฆูุงุช ุญุณุจ ุงูููุน:**
```sql
SELECT
  property_type,
  COUNT(*) as count,
  AVG(sale_price) as avg_price,
  SUM(views_count) as total_views
FROM properties
GROUP BY property_type
ORDER BY count DESC;
```

### **ุฅุญุตุงุฆูุงุช ุญุณุจ ุงููุญุงูุธุฉ:**
```sql
SELECT
  governorate,
  COUNT(*) as count,
  AVG(sale_price) as avg_price,
  AVG(price_per_sqm) as avg_price_per_sqm
FROM properties
GROUP BY governorate
ORDER BY avg_price DESC;
```

### **ุฃุบูู 5 ุนูุงุฑุงุช:**
```sql
SELECT title_ar, governorate, area_sqm, sale_price
FROM properties
ORDER BY sale_price DESC
LIMIT 5;
```

---

## โจ ูุตุงุฆุญ ุฅุถุงููุฉ

### **1. ุชุญุฏูุซ ุนุฏุงุฏ ุงููุดุงูุฏุงุช:**
```sql
UPDATE properties
SET views_count = views_count + FLOOR(RANDOM() * 50)
WHERE id = 'property-id-here';
```

### **2. ุฅุถุงูุฉ ุนูุงุฑ ููููุถูุฉ:**
```sql
INSERT INTO property_favorites (id, user_id, property_id, created_at)
SELECT
  gen_random_uuid(),
  u.id,
  p.id,
  NOW()
FROM users u
CROSS JOIN properties p
WHERE u.email = 'user@example.com'
  AND p.title_ar = 'ุดูุฉ ูุงุฎุฑุฉ ูู ุงูุชุฌูุน ุงูุฎุงูุณ'
LIMIT 1;
```

### **3. ุชุญุฏูุซ ุจูุงูุงุช ุนูุงุฑ:**
```sql
UPDATE properties
SET
  sale_price = 5000000,
  price_per_sqm = 27027,
  updated_at = NOW()
WHERE title_ar = 'ุดูุฉ ูุงุฎุฑุฉ ูู ุงูุชุฌูุน ุงูุฎุงูุณ';
```

---

## ๐ ุงูุฎูุงุตุฉ

### **ุชู ุจูุฌุงุญ:**
โ ุฅุถุงูุฉ 8 ุนูุงุฑุงุช ูุชููุนุฉ
โ ูุณุชุฎุฏู ุชุฌุฑูุจู (admin@xchange.eg)
โ ุจูุงูุงุช Views & Favorites ููุชูุตูุงุช
โ ุฌุงูุฒ ูุงุฎุชุจุงุฑ AVM, Barter, Recommendations

### **ุงูุฎุทูุฉ ุงูุชุงููุฉ:**
1. โ ุดุบูู ุงูู SQL Script ุนูู Supabase
2. โ ุงูุชุญ `/real-estate`
3. โ ุงุจุฏุฃ ุงูุงุฎุชุจุงุฑ!

---

**ููุช ุงูุชูููุฐ**: < ุฏูููุฉ ูุงุญุฏุฉ
**ุขุฎุฑ ุชุญุฏูุซ**: ุฏูุณูุจุฑ 2025
