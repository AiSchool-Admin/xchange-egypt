# Xchange Egypt - وثيقة سيناريوهات الاختبار الشاملة

## نظرة عامة

هذه الوثيقة تحتوي على 20 سيناريو اختبار شامل يغطي جميع أنواع المعاملات على منصة Xchange Egypt، من المعاملات البسيطة إلى المعقدة.

---

## حسابات الاختبار

| البريد الإلكتروني | الاسم | نوع الحساب | التخصص |
|------------------|-------|-----------|--------|
| test1@xchange.eg | أحمد التاجر | تجاري | بيع مباشر - إلكترونيات |
| test2@xchange.eg | سارة المقايضة | فردي | متخصصة في المقايضات |
| test3@xchange.eg | محمد المزادات | فردي | خبير مزادات |
| test4@xchange.eg | فاطمة الخردة | تجاري | سوق الخردة والمعادن |
| test5@xchange.eg | كريم الفاخر | فردي | سلع فاخرة |
| test6@xchange.eg | نورهان العقارية | تجاري | عقارات |
| test7@xchange.eg | ياسر السيارات | تجاري | سيارات ومركبات |
| test8@xchange.eg | منى الذهب | تجاري | ذهب وفضة |
| test9@xchange.eg | عمر الموبايلات | فردي | موبايلات |
| test10@xchange.eg | هدى المشتريات | فردي | مشتري نشط |

**كلمة المرور لجميع الحسابات:** `Test@1234`

---

## السيناريوهات

---

### السيناريو 1: بيع مباشر لجهاز إلكتروني
**المستوى:** بسيط | **النوع:** DIRECT_SALE

**المشاركون:**
- البائع: test1@xchange.eg (أحمد التاجر)
- المشتري: test10@xchange.eg (هدى المشتريات)

**الخطوات:**
1. أحمد يعرض iPhone 15 Pro Max للبيع بسعر 75,000 جنيه
2. هدى تتصفح قسم الإلكترونيات
3. هدى تضيف المنتج للسلة
4. هدى تختار الدفع عند الاستلام
5. أحمد يتلقى إشعار بالطلب
6. يتم تأكيد الطلب والتوصيل

**النتيجة المتوقعة:**
- ✅ إتمام عملية البيع
- ✅ تحديث المخزون
- ✅ إنشاء سجل المعاملة
- ✅ إرسال الإشعارات

---

### السيناريو 2: مقايضة مباشرة بين طرفين
**المستوى:** بسيط | **النوع:** BARTER (Two-Party)

**المشاركون:**
- الطرف الأول: test2@xchange.eg (سارة المقايضة)
- الطرف الثاني: test9@xchange.eg (عمر الموبايلات)

**الخطوات:**
1. سارة تعرض Samsung S24 Ultra للمقايضة
2. عمر لديه iPhone 15 Pro يريد مقايضته
3. عمر يقدم عرض مقايضة لسارة
4. سارة تراجع العرض وتقبله
5. يتم فتح محادثة للتنسيق
6. الطرفان يؤكدان إتمام المقايضة

**النتيجة المتوقعة:**
- ✅ إتمام المقايضة
- ✅ تحديث ملكية المنتجات
- ✅ تسجيل التقييمات المتبادلة

---

### السيناريو 3: مقايضة ذكية ثلاثية (Barter Chain)
**المستوى:** معقد | **النوع:** BARTER_CHAIN (Multi-Party)

**المشاركون:**
- الطرف A: test2@xchange.eg (سارة) - لديها أريكة، تريد تلفزيون
- الطرف B: test1@xchange.eg (أحمد) - لديه تلفزيون، يريد لابتوب
- الطرف C: test9@xchange.eg (عمر) - لديه لابتوب، يريد أريكة

**الخطوات:**
1. النظام يكتشف سلسلة المقايضة المحتملة
2. إرسال إشعارات لجميع الأطراف
3. كل طرف يوافق على المشاركة
4. تنسيق التسليم المتزامن
5. تأكيد الاستلام من جميع الأطراف
6. إتمام السلسلة

**النتيجة المتوقعة:**
- ✅ اكتشاف السلسلة بواسطة AI
- ✅ إتمام المقايضة الثلاثية
- ✅ تحديث جميع الملكيات

---

### السيناريو 4: مزاد على سيارة
**المستوى:** متوسط | **النوع:** AUCTION (Car)

**المشاركون:**
- البائع: test7@xchange.eg (ياسر السيارات)
- المزايدون: test3@xchange.eg, test5@xchange.eg, test10@xchange.eg

**الخطوات:**
1. ياسر يعرض Mercedes E200 2020 للمزاد
2. السعر الابتدائي: 1,200,000 جنيه
3. مدة المزاد: 7 أيام
4. محمد يقدم عرض 1,250,000
5. كريم يقدم عرض 1,300,000
6. هدى تقدم عرض 1,350,000
7. انتهاء المزاد وفوز هدى

**النتيجة المتوقعة:**
- ✅ تسجيل جميع المزايدات
- ✅ إعلان الفائز
- ✅ بدء إجراءات الدفع والتسليم
- ✅ إرسال إشعارات للجميع

---

### السيناريو 5: مزاد عكسي لطلب خدمة نقل
**المستوى:** متوسط | **النوع:** REVERSE_AUCTION (Transport)

**المشاركون:**
- الطالب: test6@xchange.eg (نورهان العقارية)
- مقدمو العروض: test7@xchange.eg, مزودي خدمات متعددين

**الخطوات:**
1. نورهان تطلب نقل أثاث من القاهرة للإسكندرية
2. المتطلبات: شاحنة 3 طن، عمال تحميل
3. مقدمو الخدمات يقدمون عروضهم
4. العرض الأول: 5,000 جنيه
5. العرض الثاني: 4,500 جنيه
6. العرض الثالث: 4,200 جنيه
7. نورهان تختار العرض الأفضل

**النتيجة المتوقعة:**
- ✅ استلام عروض متعددة
- ✅ اختيار العرض الأنسب
- ✅ إنشاء عقد الخدمة

---

### السيناريو 6: شراء عقار (شقة)
**المستوى:** معقد | **النوع:** PROPERTY_TRANSACTION

**المشاركون:**
- البائع: test6@xchange.eg (نورهان العقارية)
- المشتري: test5@xchange.eg (كريم الفاخر)

**الخطوات:**
1. نورهان تعرض شقة 150م في الزمالك
2. السعر: 8,000,000 جنيه
3. كريم يطلب معاينة
4. جدولة زيارة ميدانية
5. كريم يقدم عرض شراء
6. التفاوض على السعر النهائي
7. استخدام نظام Escrow للدفع
8. تأكيد إتمام الصفقة

**النتيجة المتوقعة:**
- ✅ إتمام صفقة العقار
- ✅ حماية الأموال عبر Escrow
- ✅ توثيق المعاملة

---

### السيناريو 7: مقايضة عقار بسيارة + فرق نقدي
**المستوى:** معقد | **النوع:** PROPERTY_BARTER + CASH

**المشاركون:**
- مالك الشقة: test6@xchange.eg (نورهان)
- مالك السيارة: test7@xchange.eg (ياسر)

**الخطوات:**
1. نورهان تعرض شقة 120م (قيمة 5,000,000)
2. ياسر يعرض BMW X5 2023 (قيمة 3,500,000)
3. ياسر يقترح مقايضة + 1,500,000 فرق
4. التفاوض على الفرق النقدي
5. الاتفاق على 1,400,000 فرق
6. استخدام Escrow للفرق النقدي
7. تبادل الملكيات

**النتيجة المتوقعة:**
- ✅ إتمام المقايضة المختلطة
- ✅ تحويل الفرق النقدي
- ✅ تسجيل المعاملة المزدوجة

---

### السيناريو 8: مناقصة خردة معادن
**المستوى:** متوسط | **النوع:** SCRAP_AUCTION

**المشاركون:**
- البائع: test4@xchange.eg (فاطمة الخردة)
- المشترون: تجار خردة متعددين

**الخطوات:**
1. فاطمة تعرض 500 كيلو نحاس أصفر
2. السعر الابتدائي: 300 جنيه/كيلو
3. المناقصة مفتوحة لمدة 3 أيام
4. عروض من تجار مختلفين
5. أعلى عرض: 340 جنيه/كيلو
6. الفائز يرتب الاستلام

**النتيجة المتوقعة:**
- ✅ إتمام مناقصة الخردة
- ✅ تأكيد الوزن عند الاستلام
- ✅ الدفع بناءً على الوزن الفعلي

---

### السيناريو 9: بيع ذهب مع شهادة أصالة
**المستوى:** متوسط | **النوع:** GOLD_TRANSACTION

**المشاركون:**
- البائع: test8@xchange.eg (منى الذهب)
- المشتري: test5@xchange.eg (كريم الفاخر)

**الخطوات:**
1. منى تعرض سبيكة ذهب 50 جرام عيار 24
2. السعر حسب سعر الذهب اليومي
3. كريم يطلب شهادة الأصالة
4. تحميل شهادة من صائغ معتمد
5. كريم يشتري السبيكة
6. ترتيب التسليم الآمن

**النتيجة المتوقعة:**
- ✅ التحقق من شهادة الأصالة
- ✅ حساب السعر بناءً على سعر الذهب
- ✅ إتمام الصفقة بأمان

---

### السيناريو 10: مقايضة ذهب بفضة
**المستوى:** متوسط | **النوع:** GOLD_SILVER_BARTER

**المشاركون:**
- مالك الذهب: test8@xchange.eg (منى)
- مالك الفضة: test3@xchange.eg (محمد)

**الخطوات:**
1. منى تريد مقايضة 100 جرام ذهب عيار 21
2. محمد لديه 2 كيلو فضة عيار 925
3. حساب القيم بناءً على الأسعار الحالية
4. التفاوض على الفرق إن وجد
5. إتمام المقايضة

**النتيجة المتوقعة:**
- ✅ حساب تلقائي للقيم
- ✅ إتمام مقايضة المعادن الثمينة

---

### السيناريو 11: بيع موبايل مع فحص IMEI
**المستوى:** بسيط | **النوع:** MOBILE_TRANSACTION

**المشاركون:**
- البائع: test9@xchange.eg (عمر الموبايلات)
- المشتري: test10@xchange.eg (هدى)

**الخطوات:**
1. عمر يعرض iPhone 14 Pro للبيع
2. إدخال رقم IMEI للتحقق
3. النظام يتحقق من عدم وجود بلاغ سرقة
4. هدى تشتري الجهاز
5. تأكيد سلامة الجهاز

**النتيجة المتوقعة:**
- ✅ التحقق من IMEI
- ✅ ضمان الجهاز غير مسروق
- ✅ إتمام البيع بأمان

---

### السيناريو 12: الصندوق الجماعي (Barter Pool)
**المستوى:** معقد | **النوع:** BARTER_POOL

**المشاركون:**
- منظم الصندوق: test2@xchange.eg (سارة)
- المشاركون: test1, test3, test9, test10

**الخطوات:**
1. سارة تنشئ صندوق مقايضة لـ MacBook Pro
2. القيمة المستهدفة: 80,000 جنيه
3. أحمد يضيف iPhone (50,000)
4. محمد يضيف كاميرا Sony (25,000)
5. عمر يضيف 5,000 نقدي
6. اكتمال القيمة المستهدفة
7. البحث عن MacBook مناسب
8. إتمام الصفقة الجماعية

**النتيجة المتوقعة:**
- ✅ تجميع القيمة من عدة أطراف
- ✅ الحصول على المنتج المستهدف
- ✅ توزيع عادل للمنتج

---

### السيناريو 13: مزاد حي على تحفة فنية
**المستوى:** معقد | **النوع:** LIVE_AUCTION

**المشاركون:**
- البائع: test3@xchange.eg (محمد المزادات)
- المزايدون: test5, test6, test8

**الخطوات:**
1. محمد يعرض لوحة فنية قديمة
2. السعر الابتدائي: 100,000 جنيه
3. بدء المزاد الحي في وقت محدد
4. المزايدات في الوقت الحقيقي
5. زيادة 5,000 في كل مزايدة
6. انتهاء المزاد بعد 30 ثانية من آخر مزايدة
7. إعلان الفائز

**النتيجة المتوقعة:**
- ✅ مزاد تفاعلي في الوقت الحقيقي
- ✅ تحديثات فورية للمزايدين
- ✅ إعلان الفائز تلقائياً

---

### السيناريو 14: خدمة الوساطة (Facilitator)
**المستوى:** متوسط | **النوع:** FACILITATED_TRADE

**المشاركون:**
- البائع: test1@xchange.eg (أحمد)
- المشتري: test10@xchange.eg (هدى)
- الوسيط: وسيط معتمد من المنصة

**الخطوات:**
1. أحمد يطلب وسيط لصفقة كبيرة
2. تعيين وسيط معتمد
3. الوسيط يفحص المنتج
4. الوسيط يؤكد حالة المنتج
5. إتمام الصفقة بإشراف الوسيط
6. تقييم الوسيط من الطرفين

**النتيجة المتوقعة:**
- ✅ ضمان جودة الصفقة
- ✅ تقليل مخاطر الاحتيال
- ✅ رضا الطرفين

---

### السيناريو 15: مناقصة خدمات (Tender)
**المستوى:** معقد | **النوع:** TENDER_SERVICE

**المشاركون:**
- الطالب: test6@xchange.eg (نورهان)
- مقدمو الخدمات: عدة شركات صيانة

**الخطوات:**
1. نورهان تطرح مناقصة لصيانة 10 شقق
2. المتطلبات: سباكة، كهرباء، دهانات
3. الميزانية المقدرة: 200,000 جنيه
4. استلام عروض من 5 شركات
5. مقارنة العروض والمؤهلات
6. اختيار العرض الفائز
7. توقيع العقد

**النتيجة المتوقعة:**
- ✅ استلام عروض متنافسة
- ✅ اختيار الأفضل سعراً وجودة
- ✅ توثيق العقد

---

### السيناريو 16: شراء بالتقسيط
**المستوى:** متوسط | **النوع:** INSTALLMENT_PURCHASE

**المشاركون:**
- البائع: test1@xchange.eg (أحمد)
- المشتري: test10@xchange.eg (هدى)

**الخطوات:**
1. هدى تريد شراء MacBook Air (55,000)
2. طلب التقسيط على 6 شهور
3. الموافقة على خطة التقسيط
4. دفعة أولى 10,000
5. 6 أقساط × 7,500 جنيه
6. تسليم المنتج
7. متابعة سداد الأقساط

**النتيجة المتوقعة:**
- ✅ إنشاء خطة تقسيط
- ✅ تتبع المدفوعات
- ✅ إشعارات مواعيد السداد

---

### السيناريو 17: صفقة فلاش (Flash Deal)
**المستوى:** بسيط | **النوع:** FLASH_DEAL

**المشاركون:**
- البائع: test1@xchange.eg (أحمد)
- المشترون: أول 10 مشترين

**الخطوات:**
1. أحمد يعرض AirPods Pro بخصم 30%
2. العرض صالح لـ 24 ساعة
3. الكمية المتاحة: 10 قطع
4. المشترون يسارعون للشراء
5. نفاد الكمية أو انتهاء الوقت
6. إغلاق العرض

**النتيجة المتوقعة:**
- ✅ عرض محدود الوقت
- ✅ تتبع الكمية المتبقية
- ✅ إغلاق تلقائي عند النفاد

---

### السيناريو 18: نظام الضمان (Escrow) للصفقات الكبيرة
**المستوى:** معقد | **النوع:** ESCROW_TRANSACTION

**المشاركون:**
- البائع: test7@xchange.eg (ياسر)
- المشتري: test5@xchange.eg (كريم)

**الخطوات:**
1. كريم يريد شراء سيارة BMW (2,000,000)
2. تفعيل نظام الضمان
3. كريم يودع المبلغ في Escrow
4. ياسر يسلم السيارة
5. كريم يفحص السيارة (3 أيام)
6. كريم يؤكد الاستلام
7. تحويل المبلغ لياسر

**النتيجة المتوقعة:**
- ✅ حماية المشتري والبائع
- ✅ فترة فحص مضمونة
- ✅ تحويل آمن للأموال

---

### السيناريو 19: تنبيه سعر + شراء تلقائي
**المستوى:** بسيط | **النوع:** PRICE_ALERT + AUTO_BUY

**المشاركون:**
- المشتري: test10@xchange.eg (هدى)
- البائعون: متعددين

**الخطوات:**
1. هدى تضع تنبيه لـ iPhone 15 Pro
2. السعر المستهدف: أقل من 60,000
3. تفعيل الشراء التلقائي
4. ظهور عرض بسعر 58,000
5. الشراء التلقائي ينفذ
6. إشعار هدى بالشراء

**النتيجة المتوقعة:**
- ✅ مراقبة الأسعار تلقائياً
- ✅ تنفيذ الشراء عند السعر المطلوب
- ✅ إشعار فوري

---

### السيناريو 20: سلسلة مقايضة معقدة (5 أطراف)
**المستوى:** معقد جداً | **النوع:** COMPLEX_BARTER_CHAIN

**المشاركون:**
- A: test1@xchange.eg - لديه لابتوب، يريد ساعة
- B: test5@xchange.eg - لديه ساعة رولكس، يريد ذهب
- C: test8@xchange.eg - لديها ذهب، تريد سيارة
- D: test7@xchange.eg - لديه سيارة، يريد شقة (جزء)
- E: test6@xchange.eg - لديها شقة، تريد إلكترونيات متعددة

**الخطوات:**
1. AI يكتشف إمكانية السلسلة
2. حساب القيم والفروق
3. إرسال مقترحات لجميع الأطراف
4. موافقة جميع الأطراف
5. تنسيق التسليم المتزامن
6. تأكيد الاستلام من الجميع
7. إتمام السلسلة الكاملة

**النتيجة المتوقعة:**
- ✅ اكتشاف السلسلة المعقدة
- ✅ حساب دقيق للقيم والفروق
- ✅ تنسيق ناجح بين 5 أطراف
- ✅ إتمام جميع التبادلات

---

## ملخص التغطية

| نوع المعاملة | عدد السيناريوهات |
|-------------|-----------------|
| بيع مباشر | 3 |
| مقايضة بسيطة | 2 |
| سلسلة مقايضة | 2 |
| مزادات | 3 |
| مزاد عكسي/مناقصة | 2 |
| عقارات | 2 |
| ذهب/فضة | 2 |
| خردة | 1 |
| موبايلات | 1 |
| صندوق جماعي | 1 |
| Escrow | 1 |

**الإجمالي: 20 سيناريو**

---

## متطلبات التنفيذ

### 1. إعداد البيانات
- إنشاء 10 حسابات اختبار
- إنشاء منتجات لكل مستخدم
- إعداد الفئات والمواقع

### 2. تنفيذ الاختبارات
- تسجيل الدخول بكل حساب
- تنفيذ الخطوات بالترتيب
- توثيق النتائج

### 3. التحقق من النتائج
- التأكد من إتمام كل معاملة
- التحقق من الإشعارات
- مراجعة السجلات

---

## ملاحظات هامة

1. **الترتيب:** بعض السيناريوهات تعتمد على بعضها، يجب تنفيذها بالترتيب
2. **البيانات:** يجب إعداد البيانات الأولية (Seed) قبل التنفيذ
3. **الوقت:** بعض السيناريوهات تتطلب انتظار (مزادات، فترات فحص)
4. **التوثيق:** توثيق كل خطوة ونتيجتها

---

*تم إنشاء هذه الوثيقة في: 2024-12-28*
*الإصدار: 1.0*
